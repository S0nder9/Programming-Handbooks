// Глава 14: NPM - Скрипты NPM в Node.js

// NPM (Node Package Manager) предоставляет мощный инструмент для автоматизации задач с помощью скриптов.
// Скрипты NPM позволяют определять команды, которые можно выполнять через командную строку,
// что упрощает разработку, тестирование и развертывание приложений.

// Как работают скрипты NPM:
// В файле package.json можно определить объект "scripts", в котором ключи являются именами скриптов, а значения - командами, которые должны выполняться.

// Пример package.json с определением скриптов:

{
    "name": "my-node-app",
    "version": "1.0.0",
    "scripts": {
      "start": "node app.js", // Запуск приложения
      "test": "mocha tests/", // Запуск тестов с использованием Mocha
      "build": "webpack --config webpack.config.js", // Сборка проекта с использованием Webpack
      "lint": "eslint src/**/*.js" // Проверка кода с использованием ESLint
    },
    "dependencies": {
      "express": "^4.17.1"
    },
    "devDependencies": {
      "mocha": "^8.2.1",
      "webpack": "^5.11.0",
      "eslint": "^7.14.0"
    }
  }
  
  // Как запускать скрипты NPM:
  // Чтобы запустить скрипт, используйте команду npm run <script-name> в терминале.
  
  // Примеры запуска скриптов:
  
  // Запуск приложения
  $ npm start
  
  // Запуск тестов
  $ npm test
  
  // Сборка проекта
  $ npm run build
  
  // Проверка кода
  $ npm run lint
  
  // Пользовательские скрипты:
  // Вы можете определять любые пользовательские скрипты для автоматизации задач. Например:
  
  {
    "scripts": {
      "clean": "rm -rf dist", // Удаление папки dist
      "prebuild": "npm run clean", // Запуск скрипта clean перед сборкой
      "deploy": "scp -r dist/ user@server:/path/to/deploy" // Развертывание приложения на сервере
    }
  }
  
  // Встроенные хуки:
  // NPM поддерживает хуки, которые позволяют выполнять команды перед или после запуска определенных скриптов. Например:
  
  {
    "scripts": {
      "prestart": "echo 'Preparing to start...'", // Выполняется перед скриптом start
      "start": "node app.js",
      "poststart": "echo 'Application started!'", // Выполняется после скрипта start
    }
  }
  
  // Итог:
  // Скрипты NPM - это мощный инструмент для автоматизации задач в процессе разработки и развертывания приложений Node.js.
  // Они упрощают выполнение повторяющихся задач и делают процесс разработки более эффективным.
  