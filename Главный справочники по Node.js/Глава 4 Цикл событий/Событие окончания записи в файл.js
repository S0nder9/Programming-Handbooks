// Глава 4: Цикл событий

// Событие окончания записи в файл

// В Node.js работа с файлами выполняется асинхронно с использованием событий.
// Для работы с файлами часто используют встроенный модуль 'fs' (file system).

// Пример: событие окончания записи в файл с использованием 'fs'.

const fs = require('fs');

// Функция для записи данных в файл
function writeFileExample(filename, data) {
  fs.writeFile(filename, data, (err) => {
    if (err) {
      console.error('Ошибка записи в файл:', err);
      return;
    }
    console.log('Данные успешно записаны в файл');
    
    // Триггерим событие окончания записи в файл
    onWriteComplete();
  });
}

// Обработчик события окончания записи
function onWriteComplete() {
  console.log('Событие окончания записи в файл успешно завершено');
}

// Использование функции writeFileExample для записи данных в файл
const filename = 'example.txt';
const data = 'Hello, world!';

writeFileExample(filename, data);

// Итог:
// В Node.js можно использовать модуль 'fs' для выполнения асинхронных операций с файлами.
// Событие окончания записи в файл можно обрабатывать внутри колбэк-функции, которая передается в метод 'writeFile'.
