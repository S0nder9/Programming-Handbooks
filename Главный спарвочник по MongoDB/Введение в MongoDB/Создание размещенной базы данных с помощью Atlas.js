// Глава 1: Введение в MongoDB - Создание размещенной базы данных с помощью Atlas

// MongoDB Atlas - это облачная платформа для баз данных, которая позволяет легко создавать и управлять MongoDB базами данных в облаке.
// В этой главе рассмотрим шаги по созданию размещенной базы данных с использованием MongoDB Atlas.

// 1. Регистрация в MongoDB Atlas
// Чтобы начать работу с MongoDB Atlas, необходимо зарегистрироваться на платформе:
// - Перейдите на https://www.mongodb.com/cloud/atlas
// - Создайте бесплатную учетную запись, используя email или учетные данные Google.

// 2. Создание нового кластера
// После регистрации вам нужно создать кластер, который является контейнером для ваших баз данных.
// - Нажмите "Build a Cluster" на панели управления.
// - Выберите бесплатный план (M0 Sandbox) для тестирования, выберите ближайший регион для минимизации задержек и нажмите "Create Cluster".

// 3. Настройка доступа к базе данных
// MongoDB требует настройки доступа для взаимодействия с базой данных.
// - Создайте нового пользователя, указав имя пользователя и пароль.
// - Настройте IP-адреса, которым будет разрешен доступ. Для удобства вы можете указать "0.0.0.0/0", чтобы разрешить доступ с любого IP-адреса, но это менее безопасно.

// 4. Подключение к базе данных
// Когда кластер будет создан, вы сможете подключиться к нему через MongoDB Shell, приложение MongoDB Compass или из вашего кода.
// Пример подключения к базе данных с помощью Node.js:
const { MongoClient } = require('mongodb');
const uri = 'mongodb+srv://<username>:<password>@cluster0.mongodb.net/myFirstDatabase?retryWrites=true&w=majority';

async function connectDB() {
  const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true });

  try {
    await client.connect();
    console.log('Connected to MongoDB Atlas');
    
    // Вы можете работать с базой данных здесь
    const database = client.db('myDatabase');
    const collection = database.collection('myCollection');
    
    // Пример вставки документа
    const result = await collection.insertOne({ name: 'John', age: 30 });
    console.log('Inserted document:', result.insertedId);
  } finally {
    await client.close();
  }
}

connectDB().catch(console.error);

// 5. Управление базой данных через Atlas UI
// MongoDB Atlas предоставляет удобный интерфейс для управления вашими данными.
// Вы можете использовать MongoDB Atlas UI для создания коллекций, просмотра документов, выполнения запросов и настройки индексов.
// - На панели управления выберите "Collections", чтобы управлять данными.
// - Используйте вкладку "Data Explorer" для визуального просмотра данных и выполнения запросов.

// 6. Масштабируемость и мониторинг
// MongoDB Atlas позволяет автоматически масштабировать ваши базы данных в зависимости от нагрузки.
// Платформа также предоставляет мониторинг производительности, чтобы отслеживать использование ресурсов и идентифицировать узкие места в производительности.
// - Вы можете установить автоматическое масштабирование или управлять ресурсами вручную в настройках кластера.

// Итог:
// MongoDB Atlas упрощает процесс создания и управления базами данных в облаке.
// С помощью Atlas вы можете быстро создать кластер, настроить доступ и подключиться к базе данных через различные инструменты.
// MongoDB Atlas также предлагает возможности мониторинга и масштабирования для управления вашими данными и производительностью.
